[
  {
    "id": "squash-commits-first-parent",
    "prompt": "\nUse the tools provided to complete the following task:\nThe code is located in /home/ubuntu/ClickHouse\n\nIMPORTANT: You do NOT have access to interactive editors (like vi, nano, or interactive git rebase).\nFor git operations that require editing:\n- Use the str_replace_editor tool to edit files directly\n- For git interactive rebase, use GIT_SEQUENCE_EDITOR to automate the editor\n- Or use non-interactive git approaches when possible\n\nSquash all commits in `master` after `2d0bfff1ffba4a6ac8ee3fbcff7f7624cf2f0f16` (following first-parent history) into a single commit.\n",
    "setup_tool": {
      "name": "setup_problem",
      "arguments": {
        "problem_id": "squash-commits-first-parent"
      }
    },
    "evaluate_tool": {
      "name": "grade_problem",
      "arguments": {
        "problem_id": "squash-commits-first-parent",
        "transcript": "dummy transcript"
      }
    },
    "agent_config": {
      "allowed_tools": [
        "bash",
        "str_replace_editor"
      ]
    },
    "mcp_config": {
      "local": {
        "command": "docker",
        "args": [
          "run",
          "--rm",
          "-i",
          "govindhud/git_squash-commits-first-parent"
        ]
      }
    }
  },
  {
    "id": "squash-commits-all-history",
    "prompt": "\nUse the tools provided to complete the following task:\nThe code is located in /home/ubuntu/ClickHouse\n\nIMPORTANT: You do NOT have access to interactive editors (like vi, nano, or interactive git rebase).\nFor git operations that require editing:\n- Use the str_replace_editor tool to edit files directly\n- For git interactive rebase, use GIT_SEQUENCE_EDITOR to automate the editor\n- Or use non-interactive git approaches when possible\n\nSquash all commits since `2d0bfff1ffba4a6ac8ee3fbcff7f7624cf2f0f16` into a single commit. Count commits including merged branches (not just first-parent).\n",
    "setup_tool": {
      "name": "setup_problem",
      "arguments": {
        "problem_id": "squash-commits-all-history"
      }
    },
    "evaluate_tool": {
      "name": "grade_problem",
      "arguments": {
        "problem_id": "squash-commits-all-history",
        "transcript": "dummy transcript"
      }
    },
    "agent_config": {
      "allowed_tools": [
        "bash",
        "str_replace_editor"
      ]
    },
    "mcp_config": {
      "local": {
        "command": "docker",
        "args": [
          "run",
          "--rm",
          "-i",
          "govindhud/git_squash-commits-all-history"
        ]
      }
    }
  },
  {
    "id": "amend-old-commit",
    "prompt": "\nUse the tools provided to complete the following task:\nThe code is located in /home/ubuntu/ClickHouse\n\nIMPORTANT: You do NOT have access to interactive editors (like vi, nano, or interactive git rebase).\nFor git operations that require editing:\n- Use the str_replace_editor tool to edit files directly\n- For git interactive rebase, use GIT_SEQUENCE_EDITOR to automate the editor\n- Or use non-interactive git approaches when possible\n\nAdd the exact line `# TODO: Change this email` to the end of the README.md file in commit `4e2e5799753` (fix logical error when low cardinality use statistics). The subsequent commits should remain unchanged.\n",
    "setup_tool": {
      "name": "setup_problem",
      "arguments": {
        "problem_id": "amend-old-commit"
      }
    },
    "evaluate_tool": {
      "name": "grade_problem",
      "arguments": {
        "problem_id": "amend-old-commit",
        "transcript": "dummy transcript"
      }
    },
    "agent_config": {
      "allowed_tools": [
        "bash",
        "str_replace_editor"
      ]
    },
    "mcp_config": {
      "local": {
        "command": "docker",
        "args": [
          "run",
          "--rm",
          "-i",
          "govindhud/git_amend-old-commit"
        ]
      }
    }
  },
  {
    "id": "cherry-pick-merge-commits",
    "prompt": "\nUse the tools provided to complete the following task:\nThe code is located in /home/ubuntu/ClickHouse\n\nIMPORTANT: You do NOT have access to interactive editors (like vi, nano, or interactive git rebase).\nFor git operations that require editing:\n- Use the str_replace_editor tool to edit files directly\n- For git interactive rebase, use GIT_SEQUENCE_EDITOR to automate the editor\n- Or use non-interactive git approaches when possible\n\nCreate a new branch called `release-branch` from commit `2d0bfff1ffba4a6ac8ee3fbcff7f7624cf2f0f16`, then cherry-pick this merge commit from master: 634b7ba69fc492f0894559bac901d9ee1b2a20ce\n",
    "setup_tool": {
      "name": "setup_problem",
      "arguments": {
        "problem_id": "cherry-pick-merge-commits"
      }
    },
    "evaluate_tool": {
      "name": "grade_problem",
      "arguments": {
        "problem_id": "cherry-pick-merge-commits",
        "transcript": "dummy transcript"
      }
    },
    "agent_config": {
      "allowed_tools": [
        "bash",
        "str_replace_editor"
      ]
    },
    "mcp_config": {
      "local": {
        "command": "docker",
        "args": [
          "run",
          "--rm",
          "-i",
          "govindhud/git_cherry-pick-merge-commits"
        ]
      }
    }
  },
  {
    "id": "rewrite-author-emails",
    "prompt": "\nUse the tools provided to complete the following task:\nThe code is located in /home/ubuntu/ClickHouse\n\nIMPORTANT: You do NOT have access to interactive editors (like vi, nano, or interactive git rebase).\nFor git operations that require editing:\n- Use the str_replace_editor tool to edit files directly\n- For git interactive rebase, use GIT_SEQUENCE_EDITOR to automate the editor\n- Or use non-interactive git approaches when possible\n\nThe repository has commits from contributors using personal emails. Rewrite the git history\nto change the following emails (both author and committer emails) to company emails for all commits after `2d0bfff1ffba4a6ac8ee3fbcff7f7624cf2f0f16`:\n\n- Change `a3at.mail@gmail.com` to `a.khuzhin@clickhouse.com`\n- Change `hanfei19910905@gmail.com` to `han.fei@clickhouse.com`\n",
    "setup_tool": {
      "name": "setup_problem",
      "arguments": {
        "problem_id": "rewrite-author-emails"
      }
    },
    "evaluate_tool": {
      "name": "grade_problem",
      "arguments": {
        "problem_id": "rewrite-author-emails",
        "transcript": "dummy transcript"
      }
    },
    "agent_config": {
      "allowed_tools": [
        "bash",
        "str_replace_editor"
      ]
    },
    "mcp_config": {
      "local": {
        "command": "docker",
        "args": [
          "run",
          "--rm",
          "-i",
          "govindhud/git_rewrite-author-emails"
        ]
      }
    }
  },
  {
    "id": "update-submodule-commit",
    "prompt": "\nUse the tools provided to complete the following task:\nThe code is located in /home/ubuntu/ClickHouse\n\nIMPORTANT: You do NOT have access to interactive editors (like vi, nano, or interactive git rebase).\nFor git operations that require editing:\n- Use the str_replace_editor tool to edit files directly\n- For git interactive rebase, use GIT_SEQUENCE_EDITOR to automate the editor\n- Or use non-interactive git approaches when possible\n\nThere's a bug in the `contrib/zstd` submodule, roll it back to its parent commit.\n",
    "setup_tool": {
      "name": "setup_problem",
      "arguments": {
        "problem_id": "update-submodule-commit"
      }
    },
    "evaluate_tool": {
      "name": "grade_problem",
      "arguments": {
        "problem_id": "update-submodule-commit",
        "transcript": "dummy transcript"
      }
    },
    "agent_config": {
      "allowed_tools": [
        "bash",
        "str_replace_editor"
      ]
    },
    "mcp_config": {
      "local": {
        "command": "docker",
        "args": [
          "run",
          "--rm",
          "-i",
          "govindhud/git_update-submodule-commit"
        ]
      }
    }
  },
  {
    "id": "recover-from-bad-merge",
    "prompt": "\nUse the tools provided to complete the following task:\nThe code is located in /home/ubuntu/ClickHouse\n\nIMPORTANT: You do NOT have access to interactive editors (like vi, nano, or interactive git rebase).\nFor git operations that require editing:\n- Use the str_replace_editor tool to edit files directly\n- For git interactive rebase, use GIT_SEQUENCE_EDITOR to automate the editor\n- Or use non-interactive git approaches when possible\n\nA colleague attempted to refactor `src/Common/thread_local_rng.cpp` to use lazy initialization but the refactor was incomplete and has compilation errors. The refactor branch was accidentally merged and then deleted. Please restore the branch to the state before the merge.\n",
    "setup_tool": {
      "name": "setup_problem",
      "arguments": {
        "problem_id": "recover-from-bad-merge"
      }
    },
    "evaluate_tool": {
      "name": "grade_problem",
      "arguments": {
        "problem_id": "recover-from-bad-merge",
        "transcript": "dummy transcript"
      }
    },
    "agent_config": {
      "allowed_tools": [
        "bash",
        "str_replace_editor"
      ]
    },
    "mcp_config": {
      "local": {
        "command": "docker",
        "args": [
          "run",
          "--rm",
          "-i",
          "govindhud/git_recover-from-bad-merge"
        ]
      }
    }
  }
]
